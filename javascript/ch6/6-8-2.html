<!DOCTYPE html>
<html>
    <head>
        <script>
            // 참조 복사와 값 복사

            // 자료형을 복사할 때는 자료형이 무엇이냐에 따라 복사하는 방식이 달라진다.
            // 숫자 자료형을 복사할 때는 깊은 복사(값 복사)를 사용하여 자료 자체를 복사하고 원본과 복사본이 완전히 독립적인 상태가 되지만,
            // 객체 자료형을 복사할 때는 얕은 복사(참조 복사)를 사용하여 자료 자체가 아닌 객체의 메모리상 주소인 레퍼런스를 복사하여,
            // 원본과 복사본은 같은 레퍼런스를 공유하는 상호 종속적인 상태가 된다.

            // 값 복사의 예시
            var originalValue = 10;
            var newValue = originalValue;

            originalValue = 20;

            alert(`originalValue: ${originalValue}, newValue: ${newValue}`);

            // 참조 복사의 예시
            var originalArray = [10, 20, 30];
            var newArray = originalArray;

            originalArray[0] = 1;

            alert(`originalArray: ${originalArray}, newArray: ${newArray}`);

            // 통째로 재선언하거나 재할당하면 새로운 레퍼런스를 갖게 된다.
            originalArray = [0, 0, 0];
            alert(`originalArray: ${originalArray}, newArray: ${newArray}`);

            // 객체를 값 복사하는 방법
            function clone(obj) {
                var output = {};
                for (var i in obj) {
                    output[i] = obj[i];
                }
                
                return output;
            }

            var originalObj = {num1: 10,  num2: 20};
            var referenced = originalObj;
            var cloned = clone(originalObj);

            originalObj.num2 = 30;

            alert(JSON.stringify(originalObj, null, 2));
            alert(JSON.stringify(referenced, null, 2));
            alert(JSON.stringify(cloned, null, 2));
        </script>
    </head>
    <body>

    </body>
</html>